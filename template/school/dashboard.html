<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>School ERP Dashboard</title>
        <script src="https://unpkg.com/htmx.org@1.9.3"></script>
        <script src="https://cdn.tailwindcss.com"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    </head>
    <body class="bg-gray-100 font-sans">
        <div class="flex h-screen">
            <!-- Sidebar -->
            <aside
                class="w-64 bg-indigo-700 text-white flex-shrink-0 flex flex-col"
            >
                <div class="p-6 text-2xl font-bold flex items-center gap-2">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-8 w-8"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M3 7h18M3 12h18M3 17h18"
                        />
                    </svg>
                    School ERP
                </div>
                <nav class="mt-10 flex-1">
                    <a
                        href="#dashboard"
                        class="block py-3 px-6 hover:bg-indigo-600 flex items-center gap-2"
                        ><span>üè†</span> Dashboard</a
                    >
                    <a
                        href="#students"
                        hx-get="/students"
                        hx-target="#main-content"
                        hx-swap="innerHTML"
                        class="block py-3 px-6 hover:bg-indigo-600 flex items-center gap-2"
                        ><span>üéì</span> Students</a
                    >
                    <a
                        href="#teachers"
                        hx-get="/teachers"
                        hx-target="#main-content"
                        hx-swap="innerHTML"
                        class="block py-3 px-6 hover:bg-indigo-600 flex items-center gap-2"
                        ><span>üë©‚Äçüè´</span> Teachers</a
                    >
                    <a
                        href="#classes"
                        hx-get="/classes"
                        hx-target="#main-content"
                        hx-swap="innerHTML"
                        class="block py-3 px-6 hover:bg-indigo-600 flex items-center gap-2"
                        ><span>üìö</span> Classes</a
                    >
                    <a
                        href="#analytics"
                        hx-get="/analytics"
                        hx-target="#main-content"
                        hx-swap="innerHTML"
                        class="block py-3 px-6 hover:bg-indigo-600 flex items-center gap-2"
                        ><span>üìä</span> Analytics</a
                    >
                    <a
                        href="#logout"
                        class="block py-3 px-6 hover:bg-indigo-600 flex items-center gap-2"
                        ><span>üö™</span> Logout</a
                    >
                </nav>
            </aside>

            <!-- Main Content -->
            <main class="flex-1 p-8 overflow-y-auto" id="main-content">
                <h1 class="text-3xl font-bold mb-6">Dashboard</h1>

                <!-- Stats Cards -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                    <div
                        class="bg-white p-6 rounded-xl shadow hover:shadow-lg transition flex flex-col items-center gap-2"
                    >
                        <div class="text-indigo-500 text-3xl">üéì</div>
                        <h2 class="text-lg font-semibold">Total Students</h2>
                        <p
                            class="text-2xl font-bold"
                            hx-get="/stats/students"
                            hx-trigger="load"
                            hx-swap="innerHTML"
                        >
                            0
                        </p>
                    </div>
                    <div
                        class="bg-white p-6 rounded-xl shadow hover:shadow-lg transition flex flex-col items-center gap-2"
                    >
                        <div class="text-green-500 text-3xl">üë©‚Äçüè´</div>
                        <h2 class="text-lg font-semibold">Total Teachers</h2>
                        <p
                            class="text-2xl font-bold"
                            hx-get="/stats/teachers"
                            hx-trigger="load"
                            hx-swap="innerHTML"
                        >
                            0
                        </p>
                    </div>
                    <div
                        class="bg-white p-6 rounded-xl shadow hover:shadow-lg transition flex flex-col items-center gap-2"
                    >
                        <div class="text-yellow-500 text-3xl">üìö</div>
                        <h2 class="text-lg font-semibold">Total Classes</h2>
                        <p
                            class="text-2xl font-bold"
                            hx-get="/stats/classes"
                            hx-trigger="load"
                            hx-swap="innerHTML"
                        >
                            0
                        </p>
                    </div>
                </div>

                <!-- Analytics Charts -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                    <div class="bg-white p-6 rounded-xl shadow">
                        <h2 class="text-xl font-semibold mb-4">
                            Student Enrollment Over Time
                        </h2>
                        <canvas id="enrollmentChart"></canvas>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow">
                        <h2 class="text-xl font-semibold mb-4">
                            Teacher Distribution by Department
                        </h2>
                        <canvas id="teacherChart"></canvas>
                    </div>
                </div>

                <!-- Table Example -->
                <div class="bg-white p-6 rounded-xl shadow overflow-x-auto">
                    <h2 class="text-xl font-semibold mb-4">Recent Students</h2>
                    <table class="min-w-full border-collapse">
                        <thead class="bg-indigo-100 text-left">
                            <tr>
                                <th class="py-2 px-4 font-medium text-gray-700">
                                    ID
                                </th>
                                <th class="py-2 px-4 font-medium text-gray-700">
                                    Name
                                </th>
                                <th class="py-2 px-4 font-medium text-gray-700">
                                    Class
                                </th>
                                <th class="py-2 px-4 font-medium text-gray-700">
                                    Enrollment Date
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="border-b hover:bg-gray-50">
                                <td class="py-2 px-4">1</td>
                                <td class="py-2 px-4">John Doe</td>
                                <td class="py-2 px-4">Grade 10</td>
                                <td class="py-2 px-4">2025-11-01</td>
                            </tr>
                            <tr class="border-b hover:bg-gray-50">
                                <td class="py-2 px-4">2</td>
                                <td class="py-2 px-4">Jane Smith</td>
                                <td class="py-2 px-4">Grade 9</td>
                                <td class="py-2 px-4">2025-11-03</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </main>
        </div>

        <script>
            const enrollmentCtx = document
                .getElementById("enrollmentChart")
                .getContext("2d");
            new Chart(enrollmentCtx, {
                type: "line",
                data: {
                    labels: ["Jan", "Feb", "Mar", "Apr", "May", "Jun"],
                    datasets: [
                        {
                            label: "Students",
                            data: [120, 135, 150, 160, 180, 200],
                            borderColor: "rgba(59, 130, 246, 1)",
                            backgroundColor: "rgba(59, 130, 246, 0.2)",
                            fill: true,
                            tension: 0.3,
                        },
                    ],
                },
                options: { responsive: true },
            });

            const teacherCtx = document
                .getElementById("teacherChart")
                .getContext("2d");
            new Chart(teacherCtx, {
                type: "doughnut",
                data: {
                    labels: ["Math", "Science", "English", "Arts", "Sports"],
                    datasets: [
                        {
                            label: "Teachers",
                            data: [5, 8, 6, 4, 3],
                            backgroundColor: [
                                "#3B82F6",
                                "#10B981",
                                "#F59E0B",
                                "#EF4444",
                                "#8B5CF6",
                            ],
                        },
                    ],
                },
                options: { responsive: true },
            });
        </script>
    </body>
</html>
